{"version":3,"sources":["fastselect.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","root","factory","define","amd","module","exports","require","jQuery","$","$document","document","instanceNum","Fastsearch","fastsearch","pickTo","selectorFromClass","Fastselect","inputElement","options","this","init","apply","arguments","OptionsCollection","extend","$input","defaults","placeholder","attr","data","ens","hasCustomLoader","is","isMultiple","userOptionAllowed","optionsCollection","multipleValues","setupDomElements","setupFastsearch","setupEvents","$el","addClass","elementClass","updateDomElements","$controls","appendTo","insertAfter","detach","setupSingleElement","onDone","initialOptions","processInitialOptions","toggleBtnText","length","text","singleModeClass","controlsClass","$toggleBtn","toggleButtonClass","$queryInput","searchPlaceholder","queryInputClass","call","setupMultipleElement","self","multipleModeClass","each","i","option","addChoiceItem","toggleClass","noneSelectedClass","hasSelectedValues","adjustQueryInputLayout","initialValue","isPlainObject","map","find","get","$option","value","setSelected","optionModel","classes","choiceItemClass","Math","floor","random","html","choiceRemoveClass","insertBefore","fastSearchParams","wrapSelector","minQueryLength","typeTimeout","preventSubmit","fillInputId","responseFormat","label","groupCaption","onItemSelect","$item","model","maxItems","getValues","onMaxItemsReached","setSelectedOption","writeToInput","hide","clearQueryOnSelect","clear","isUserOption","$resultsCont","remove","onItemCreate","selected","itemSelectedClass","userOptionPrefix","userOptionClass","getResults","val","renderOptions","getOptions","params","query","trim","apiParam","fetch","models","reset","gleanSelectData","namespaceEvents","events","on","e","target","focus","show","$choice","currentTarget","closest","removeSelectedOption","hasClass","activeClass","noneSelected","queryInputExpandedClass","style","$fakeInput","fakeInputClass","replace","handleTyping","documentCancelEvents","removeClass","setup","isSelected","selectedModel","findWhere","$resultItems","$choiceItem","removedModel","removeSelected","values","delimiter","valueDelimiter","formattedValue","join","trigger","filter","slice","queryInList","unshift","showResults","storeResponse","generateResults","$select","$elements","children","eq","optgroup","$optgroup","items","gleanOptionsData","$options","destroy","off","fastselect","loadOnce","url","parseData","matcher","toLowerCase","indexOf","selectedValues","fetchParams","afterFetch","applySelectedValues","fetchDeferred","load","done","nestedOption","where","predicate","temp","push","undefined","checkItem","item","filteredItems","prop","key","resultsContClass","resultsOpenedClass","resultsFlippedClass","groupClass","itemClass","groupTitleClass","loadingClass","noResultsClass","focusedItemClass","focusFirstItem","flipOnBottom","M","util","get_string","noResultsText","fn","hasOwnProperty","Object","keys","callbacks","forEach","callbackName"],"mappings":"AAAA,aAEA,SAASA,QAAQC,GAAkC,OAAOD,QAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqBC,QAAUD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,IAAgBA,IASzU,SAAWK,EAAMC,GACO,mBAAXC,QAAyBA,OAAOC,IACzCD,OAAO,CAAC,UAAWD,GAC0D,YAAjD,oBAAXG,OAAyB,YAAcV,QAAQU,UAAyBA,OAAOC,QAChGD,OAAOC,QAAUJ,EAAQK,QAAQ,WAEjCL,QAED,GAFcM,QANjB,CAQG,EAAQ,SAAUC,GACnB,IAAIC,EAAYD,EAAEE,UACdC,EAAc,EACdC,EAAaJ,EAAEK,WACfC,EAASF,EAAWE,OACpBC,EAAoBH,EAAWG,kBAEnC,SAASC,EAAWC,EAAcC,GAChCC,KAAKC,KAAKC,MAAMF,KAAMG,WA4TxB,SAASC,EAAkBL,GACzBC,KAAKC,KAAKF,GA+LZ,OAzfAV,EAAEgB,OAAOR,EAAWjB,UAAW,CAC7BqB,KAAM,SAAcH,EAAcC,GAChCC,KAAKM,OAASjB,EAAES,GAChBE,KAAKD,QAAUJ,EAAON,EAAEgB,QAAO,EAAM,GAAIR,EAAWU,SAAUR,EAAS,CACrES,YAAaR,KAAKM,OAAOG,KAAK,iBAC5BT,KAAKM,OAAOI,OAAQ,CAAC,MAAO,WAAY,WAAY,eAAgB,sBACxEV,KAAKW,IAAM,iBAAkBnB,EAC7BQ,KAAKY,gBAAkBZ,KAAKM,OAAOO,GAAG,SACtCb,KAAKc,aAAed,KAAKM,OAAOG,KAAK,YACrCT,KAAKe,kBAAoBf,KAAKY,iBAAmBZ,KAAKc,YAAcd,KAAKD,QAAQgB,kBACjFf,KAAKgB,kBAAoB,IAAIZ,EAAkBT,EAAO,CACpDsB,eAAgBjB,KAAKc,YACpBd,KAAKD,QAAS,CAAC,MAAO,WAAY,YAAa,aAClDC,KAAKkB,mBACLlB,KAAKmB,kBACLnB,KAAKoB,eAEPF,iBAAkB,WAChBlB,KAAKqB,IAAMhC,EAAE,SAASiC,SAAStB,KAAKD,QAAQwB,cAC5CvB,KAAKA,KAAKc,WAAa,uBAAyB,sBAAsB,WACpEd,KAAKwB,oBACLxB,KAAKyB,UAAUC,SAAS1B,KAAKqB,KAC7BrB,KAAKqB,IAAIM,YAAY3B,KAAKM,QAC1BN,KAAKM,OAAOsB,SAASF,SAAS1B,KAAKqB,QAGvCQ,mBAAoB,SAA4BC,GAC9C,IAAIC,EAAiB/B,KAAKgC,wBACtBC,EAAgBF,GAAkBA,EAAeG,OAASH,EAAe,GAAGI,KAAOnC,KAAKD,QAAQS,YACpGR,KAAKqB,IAAIC,SAAStB,KAAKD,QAAQqC,iBAC/BpC,KAAKyB,UAAYpC,EAAE,SAASiC,SAAStB,KAAKD,QAAQsC,eAClDrC,KAAKsC,WAAajD,EAAE,SAASiC,SAAStB,KAAKD,QAAQwC,mBAAmBJ,KAAKF,GAAeP,SAAS1B,KAAKqB,KACxGrB,KAAKwC,YAAcnD,EAAE,WAAWoB,KAAK,cAAeT,KAAKD,QAAQ0C,mBAAmBnB,SAAStB,KAAKD,QAAQ2C,iBAAiBhB,SAAS1B,KAAKyB,WACzIK,EAAOa,KAAK3C,OAEd4C,qBAAsB,SAA8Bd,GAClD,IAAIe,EAAO7C,KACPD,EAAU8C,EAAK9C,QACfgC,EAAiB/B,KAAKgC,wBAC1BhC,KAAKqB,IAAIC,SAASvB,EAAQ+C,mBAC1B9C,KAAKyB,UAAYpC,EAAE,SAASiC,SAASvB,EAAQsC,eAC7CrC,KAAKwC,YAAcnD,EAAE,WAAWiC,SAASvB,EAAQ2C,iBAAiBhB,SAAS1B,KAAKyB,WAChFM,GAAkB1C,EAAE0D,KAAKhB,EAAgB,SAAUiB,EAAGC,GACpDJ,EAAKK,cAAcD,KAErBnB,EAAOa,KAAK3C,OAEdwB,kBAAmB,WACjBxB,KAAKqB,IAAI8B,YAAYnD,KAAKD,QAAQqD,mBAAoBpD,KAAKgB,kBAAkBqC,qBAC7ErD,KAAKsD,0BAEPtB,sBAAuB,WACrB,IACIjC,EADA8C,EAAO7C,KAmBX,OAhBIA,KAAKY,iBACPb,EAAUC,KAAKD,QAAQwD,aACvBlE,EAAEmE,cAAczD,KAAaA,EAAU,CAACA,KAExCA,EAAUV,EAAEoE,IAAIzD,KAAKM,OAAOoD,KAAK,mBAAmBC,MAAO,SAAUV,GACnE,IAAIW,EAAUvE,EAAE4D,GAChB,MAAO,CACLd,KAAMyB,EAAQzB,OACd0B,MAAOD,EAAQnD,KAAK,YAK1BV,GAAWV,EAAE0D,KAAKhD,EAAS,SAAUiD,EAAGC,GACtCJ,EAAK7B,kBAAkB8C,YAAYb,KAE9BlD,GAETmD,cAAe,SAAuBa,GACpC,IAAIC,EAAU,CAAC,UAAW,UAAW,UAAW,QAChD3E,EAAE,mBAAqB0E,EAAY5B,KAAO,iBAAmB4B,EAAYF,MAAQ,YAAc7D,KAAKD,QAAQkE,gBAAkB,QAAUD,EAAQE,KAAKC,MAAMD,KAAKE,SAAWJ,EAAQ9B,SAAW,KAAO7C,EAAE,SAASgF,KAAKN,EAAY5B,MAAMA,OAAS,kBAAoBnC,KAAKD,QAAQuE,kBAAoB,oCAAyCC,aAAavE,KAAKwC,cAElWrB,gBAAiB,WACf,IAAI0B,EAAO7C,KACPD,EAAUC,KAAKD,QACfyE,EAAmB,GACvB7E,EAAO6E,EAAkBzE,EAAS,CAAC,mBAAoB,qBAAsB,sBAAuB,aAAc,YAAa,iBAAkB,kBAAmB,eAAgB,iBAAkB,gBAAiB,mBAAoB,iBAC3OC,KAAKN,WAAa,IAAID,EAAWO,KAAKwC,YAAYmB,IAAI,GAAItE,EAAEgB,OAAOmE,EAAkB,CACnFC,aAAczE,KAAKc,WAAad,KAAKqB,IAAMrB,KAAKyB,UAChDiD,eAAgB,EAChBC,YAAa3E,KAAKY,gBAAkBb,EAAQ4E,YAAc,EAC1DC,eAAe,EACfC,aAAa,EACbC,eAAgB,CACdC,MAAO,OACPC,aAAc,SAEhBC,aAAc,SAAsBC,EAAOC,EAAOzF,GAChD,IAAI0F,EAAWrF,EAAQqF,SAEnBvC,EAAK/B,YAAcsE,GAAYvC,EAAK7B,kBAAkBqE,YAAYnD,OAASkD,EAAW,EACxFrF,EAAQuF,mBAAqBvF,EAAQuF,kBAAkBtF,OAEvD6C,EAAK0C,kBAAkBJ,GACvBtC,EAAK2C,gBACJ3C,EAAK/B,YAAc+B,EAAK4C,OACzB1F,EAAQ2F,oBAAsBhG,EAAWiG,QAErC9C,EAAK9B,mBAAqBoE,EAAMS,eAClClG,EAAWmG,aAAaC,gBACjBpG,EAAWmG,aAClBhD,EAAK4C,QAGP1F,EAAQkF,cAAgBlF,EAAQkF,aAAatC,KAAKE,EAAMqC,EAAOC,EAAOtC,EAAMnD,KAGhFqG,aAAc,SAAsBb,EAAOC,GACzCA,EAAMD,MAAQA,EACdC,EAAMa,UAAYd,EAAM5D,SAASvB,EAAQkG,mBAErCpD,EAAK9B,mBAAqBoE,EAAMS,cAClCV,EAAM/C,KAAKU,EAAK9C,QAAQmG,iBAAmBhB,EAAM/C,QAAQb,SAASuB,EAAK9C,QAAQoG,iBAGjFpG,EAAQgG,cAAgBhG,EAAQgG,aAAapD,KAAKE,EAAMqC,EAAOC,EAAOtC,OAI1E7C,KAAKN,WAAW0G,WAAa,WACvBvD,EAAK9B,mBAAqB8B,EAAKL,YAAY6D,MAAMnE,OAAS,GAC5DW,EAAKyD,gBAGPzD,EAAK0D,WAAW,WACd1D,EAAKyD,eAAc,OAIzBC,WAAY,SAAoBzE,GAC9B,IAAI/B,EAAUC,KAAKD,QAEfyG,EAAS,GAEb,GAAIxG,KAAKY,gBAAiB,CACxB,IAAI6F,EAAQpH,EAAEqH,KAAK1G,KAAKwC,YAAY6D,OAEhCI,GAAS1G,EAAQ4G,WACnBH,EAAOzG,EAAQ4G,UAAYF,GAG7BzG,KAAKgB,kBAAkB4F,MAAMJ,EAAQ1E,QAEpC9B,KAAKgB,kBAAkB6F,QAAU7G,KAAKgB,kBAAkB8F,MAAM9G,KAAK+G,gBAAgB/G,KAAKM,SACzFwB,KAGJkF,gBAAiB,SAAyBC,GACxC,OAAOxH,EAAWb,UAAUoI,gBAAgBrE,KAAK3C,KAAMiH,IAEzD7F,YAAa,WACX,IAAIyB,EAAO7C,KACPD,EAAUC,KAAKD,QAEfC,KAAKc,YACPd,KAAKqB,IAAI6F,GAAGlH,KAAKgH,gBAAgB,SAAU,SAAUG,GACnD9H,EAAE8H,EAAEC,QAAQvG,GAAGjB,EAAkBG,EAAQsC,iBAAmBQ,EAAKL,YAAY6E,UAE/ErH,KAAKwC,YAAY0E,GAAGlH,KAAKgH,gBAAgB,SAAU,SAAUG,GAC3DtE,EAAKS,yBACLT,EAAKyE,SACJJ,GAAGlH,KAAKgH,gBAAgB,WAAY,WACrCnE,EAAKyE,OACLzE,EAAKL,YAAY/B,KAAK,cAAeV,EAAQ0C,qBAC5CyE,GAAGlH,KAAKgH,gBAAgB,YAAa,WACtCnE,EAAKL,YAAY/B,KAAK,cAAeV,EAAQS,eAE/CR,KAAKqB,IAAI6F,GAAGlH,KAAKgH,gBAAgB,SAAUpH,EAAkBG,EAAQuE,mBAAoB,SAAU6C,GACjG,IAAII,EAAUlI,EAAE8H,EAAEK,eAAeC,QAAQ7H,EAAkBG,EAAQkE,kBACnEpB,EAAK6E,qBAAqB,CACxB7D,MAAO0D,EAAQ9G,KAAK,cACpB0B,KAAMoF,EAAQ9G,KAAK,cAClB8G,MAGLvH,KAAKqB,IAAI6F,GAAGlH,KAAKgH,gBAAgB,SAAUpH,EAAkBG,EAAQwC,mBAAoB,WACvFM,EAAKxB,IAAIsG,SAAS5H,EAAQ6H,aAAe/E,EAAK4C,OAAS5C,EAAKyE,MAAK,MAIvEhE,uBAAwB,WACtB,GAAItD,KAAKc,YAAcd,KAAKwC,YAAa,CACvC,IAAIqF,EAAe7H,KAAKqB,IAAIsG,SAAS3H,KAAKD,QAAQqD,mBAClDpD,KAAKwC,YAAYW,YAAYnD,KAAKD,QAAQ+H,wBAAyBD,GACnE7H,KAAKwC,YAAY/B,KAAK,CACpBsH,MAAO,GACPvH,YAAaR,KAAKD,QAAQS,cAGvBqH,IACH7H,KAAKgI,WAAahI,KAAKgI,YAAc3I,EAAE,UAAUiC,SAAStB,KAAKD,QAAQkI,gBACvEjI,KAAKgI,WAAW7F,KAAKnC,KAAKwC,YAAY6D,MAAM6B,QAAQ,MAAO,WAC3DlI,KAAKgI,WAAWpG,YAItB0F,KAAM,SAAcD,GAClBrH,KAAKqB,IAAIC,SAAStB,KAAKD,QAAQ6H,aAC/BP,EAAQrH,KAAKwC,YAAY6E,QAAUrH,KAAKN,WAAWyI,eACnDnI,KAAKoI,qBAAqB,OAE5B3C,KAAM,WACJzF,KAAKqB,IAAIgH,YAAYrI,KAAKD,QAAQ6H,aAClC5H,KAAKoI,qBAAqB,QAE5BA,qBAAsB,SAA8BE,GAClD7I,EAAWb,UAAUwJ,qBAAqBzF,KAAK3C,KAAMsI,EAAOtI,KAAKyF,OAEnEF,kBAAmB,SAA2BtC,GAC5C,IAAIjD,KAAKgB,kBAAkBuH,WAAWtF,EAAOY,OAA7C,CAIA7D,KAAKgB,kBAAkB8C,YAAYb,GACnC,IAAIuF,EAAgBxI,KAAKgB,kBAAkByH,UAAU,SAAUtD,GAC7D,OAAOA,EAAMtB,QAAUZ,EAAOY,QAG5B7D,KAAKc,WACPd,KAAKyB,WAAazB,KAAKkD,cAAcD,IAErCjD,KAAKN,YAAcM,KAAKN,WAAWgJ,aAAaL,YAAYrI,KAAKD,QAAQkG,mBACzEjG,KAAKsC,YAActC,KAAKsC,WAAWH,KAAKc,EAAOd,OAGjDqG,GAAiBA,EAActD,MAAM5D,SAAStB,KAAKD,QAAQkG,mBAC3DjG,KAAKwB,sBAEPkG,qBAAsB,SAA8BzE,EAAQ0F,GAC1D,IAAIC,EAAe5I,KAAKgB,kBAAkB6H,eAAe5F,GAErD2F,GAAgBA,EAAa1D,OAC/B0D,EAAa1D,MAAMmD,YAAYrI,KAAKD,QAAQkG,mBAG1C0C,EACFA,EAAY7C,SAEZ9F,KAAKqB,IAAIqC,KAAK9D,EAAkBI,KAAKD,QAAQkE,iBAAmB,gBAAkBhB,EAAOY,MAAQ,MAAMiC,SAGzG9F,KAAKwB,oBACLxB,KAAKwF,gBAEPA,aAAc,WACZ,IAAIsD,EAAS9I,KAAKgB,kBAAkBqE,YAChC0D,EAAY/I,KAAKD,QAAQiJ,eACzBC,EAAiBjJ,KAAKc,WAAad,KAAKY,gBAAkBkI,EAAOI,KAAKH,GAAaD,EAASA,EAAO,GACvG9I,KAAKM,OAAO+F,IAAI4C,GAAgBE,QAAQ,WAE1C7C,cAAe,SAAuB8C,GACpC,IACI1I,EADA+F,EAAQzG,KAAKwC,YAAY6D,MAS7B,GALE3F,EADEV,KAAKgB,kBAAkB6F,QACjBuC,EAASpJ,KAAKgB,kBAAkBoI,OAAO3C,GAASzG,KAAKgB,kBAAkB6F,QAAQwC,MAAM,GAEtF,GAGLrJ,KAAKe,kBAAmB,CAC1B,IAAIuI,EAActJ,KAAKgB,kBAAkB6F,QAAU7G,KAAKgB,kBAAkByH,UAAU,SAAUtD,GAC5F,OAAOA,EAAMtB,QAAU4C,IAEzBA,IAAU6C,GAAe5I,EAAK6I,QAAQ,CACpCpH,KAAMsE,EACN5C,MAAO4C,EACPb,cAAc,IAIlB5F,KAAKN,WAAW8J,YAAYxJ,KAAKN,WAAW+J,cAAc/I,GAAMgJ,gBAAgBhJ,KAElFqG,gBAAiB,SAAyB4C,GACxC,IAAI9G,EAAO7C,KACP4J,EAAYD,EAAQE,WAExB,OAAID,EAAUE,GAAG,GAAGjJ,GAAG,YACdxB,EAAEoE,IAAImG,EAAUjG,MAAO,SAAUoG,GACtC,IAAIC,EAAY3K,EAAE0K,GAClB,MAAO,CACLhF,MAAOiF,EAAUvJ,KAAK,SACtBwJ,MAAOpH,EAAKqH,iBAAiBF,EAAUH,eAIpC7J,KAAKkK,iBAAiBN,IAGjCM,iBAAkB,SAA0BC,GAC1C,OAAO9K,EAAEoE,IAAI0G,EAASxG,MAAO,SAAUV,GACrC,IAAIW,EAAUvE,EAAE4D,GAChB,MAAO,CACLd,KAAMyB,EAAQzB,OACd0B,MAAOD,EAAQnD,KAAK,SACpBuF,SAAUpC,EAAQ/C,GAAG,iBAI3BuJ,QAAS,WACP9K,EAAU+K,IAAIrK,KAAKW,KACnBX,KAAKN,WAAW0K,UAChBpK,KAAKM,OAAO+J,IAAIrK,KAAKW,KAAKiB,SAASD,YAAY3B,KAAKqB,KACpDrB,KAAKqB,IAAIgJ,IAAIrK,KAAKW,KAAKmF,SACvB9F,KAAKM,OAAOI,eAAiBV,KAAKM,OAAOI,OAAO4J,cAQpDjL,EAAEgB,OAAOD,EAAkBxB,UAAW,CACpC2B,SAAU,CACRgK,UAAU,EACVC,IAAK,KACLC,UAAW,KACXxJ,gBAAgB,EAChByJ,QAAS,SAAiBvI,EAAMsE,GAC9B,OAAOtE,EAAKwI,cAAcC,QAAQnE,EAAMkE,gBAAkB,IAG9D1K,KAAM,SAAcF,GAClBC,KAAKD,QAAUV,EAAEgB,OAAO,GAAIL,KAAKO,SAAUR,GAC3CC,KAAK6K,eAAiB,IAExBjE,MAAO,SAAekE,EAAahJ,GACjC,IAAIe,EAAO7C,KACP+K,EAAa,WACflI,EAAKmI,oBAAoBlJ,IAGvB9B,KAAKD,QAAQwK,UACfvK,KAAKiL,cAAgBjL,KAAKiL,eAAiBjL,KAAKkL,KAAKJ,GACrD9K,KAAKiL,cAAcE,KAAKJ,IAExB/K,KAAKkL,KAAKJ,EAAaC,IAG3BjE,MAAO,SAAeD,GACpB7G,KAAK6G,OAAS7G,KAAKD,QAAQ0K,UAAYzK,KAAKD,QAAQ0K,UAAU5D,GAAUA,EACxE7G,KAAKgL,uBAEPA,oBAAqB,SAA6BlJ,GAChD9B,KAAK+C,KAAK,SAAUE,GACdjD,KAAKD,QAAQkB,gBAAkBgC,EAAO+C,SACxChG,KAAK6K,eAAe5H,EAAOY,QAAS,EAEpCZ,EAAO+C,WAAahG,KAAK6K,eAAe5H,EAAOY,SAGnD/B,GAAUA,EAAOa,KAAK3C,OAExBkL,KAAM,SAAc1E,EAAQ1E,GAC1B,IAAIe,EAAO7C,KACPD,EAAUC,KAAKD,QACnB,OAAOV,EAAEsE,IAAI5D,EAAQyK,IAAKhE,EAAQ,SAAU9F,GAC1CmC,EAAKgE,OAAS9G,EAAQ0K,UAAY1K,EAAQ0K,UAAU/J,GAAQA,EAC5DoB,GAAUA,EAAOa,KAAKE,MAG1BiB,YAAa,SAAqBb,GAC3BjD,KAAKD,QAAQkB,iBAChBjB,KAAK6K,eAAiB,IAGxB7K,KAAK6K,eAAe5H,EAAOY,QAAS,EACpC7D,KAAKgL,uBAEPnC,eAAgB,SAAwB5F,GACtC,IAAIkC,EAAQnF,KAAKyI,UAAU,SAAUtD,GACnC,OAAOlC,EAAOY,QAAUsB,EAAMtB,QAIhC,OAFAsB,IAAUA,EAAMa,UAAW,UACpBhG,KAAK6K,eAAe5H,EAAOY,OAC3BsB,GAEToD,WAAY,SAAoB1E,GAC9B,QAAS7D,KAAK6K,eAAehH,IAE/BR,kBAAmB,WACjB,OAAOrD,KAAKqF,YAAYnD,OAAS,GAEnCa,KAAM,SAAcrE,GAClB,IAAImE,EAAO7C,KACXA,KAAK6G,QAAUxH,EAAE0D,KAAK/C,KAAK6G,OAAQ,SAAU7D,EAAGC,GAC9CA,EAAOgH,MAAQ5K,EAAE0D,KAAKE,EAAOgH,MAAO,SAAUjH,EAAGoI,GAC/C1M,EAASiE,KAAKE,EAAMuI,KACjB1M,EAASiE,KAAKE,EAAMI,MAG7BoI,MAAO,SAAeC,GACpB,IAAIC,EAAO,GAIX,OAHAvL,KAAK+C,KAAK,SAAUE,GAClBqI,EAAUrI,IAAWsI,EAAKC,KAAKvI,KAE1BsI,GAET9C,UAAW,SAAmB6C,GAC5B,IAAIzE,EAAS7G,KAAKqL,MAAMC,GACxB,OAAOzE,EAAO3E,OAAS2E,EAAO,QAAK4E,GAErCrC,OAAQ,SAAgB3C,GACtB,IAAI5D,EAAO7C,KAEX,SAAS0L,EAAUC,GACjB,OAAO9I,EAAK9C,QAAQ2K,QAAQiB,EAAKxJ,KAAMsE,GAASkF,EAAO,KAGzD,OAAKlF,GAA0B,IAAjBA,EAAMvE,OAIb7C,EAAEoE,IAAIzD,KAAK6G,OAAQ,SAAU8E,GAClC,GAAIA,EAAK1B,MAAO,CACd,IAAI2B,EAAgBvM,EAAEoE,IAAIkI,EAAK1B,MAAOyB,GACtC,OAAOE,EAAc1J,OAAS,CAC5B6C,MAAO4G,EAAK5G,MACZkF,MAAO2B,GACL,KAEJ,OAAOF,EAAUC,KAXZ3L,KAAK6G,QAehBxB,UAAW,WACT,OAAOhG,EAAEoE,IAAIzD,KAAK6K,eAAgB,SAAUgB,EAAMC,GAChD,OAAOD,EAAOC,EAAM,UAI1BjM,EAAWU,SAAW,CACpBgB,aAAc,0BACda,gBAAiB,gBACjBgB,kBAAmB,kBACnBN,kBAAmB,kBACnBJ,gBAAiB,6BACjBoF,wBAAyB,wBACzBG,eAAgB,eAChB5F,cAAe,cACfE,kBAAmB,eACnBqF,YAAa,YACb3B,kBAAmB,cACnBhC,gBAAiB,gBACjBK,kBAAmB,kBACnB6B,gBAAiB,gBACjB4F,iBAAkB,aAClBC,mBAAoB,mBACpBC,oBAAqB,oBACrBC,WAAY,WACZC,UAAW,gBACXC,gBAAiB,gBACjBC,aAAc,aACdC,eAAgB,eAChBC,iBAAkB,aAClB7B,QAAS,KACTF,IAAK,KACLD,UAAU,EACV5D,SAAU,QACVpD,aAAc,KACdmC,oBAAoB,EACpBhB,eAAgB,EAChB8H,gBAAgB,EAChBC,cAAc,EACd9H,YAAa,IACb5D,mBAAmB,EACnBiI,eAAgB,IAChB5D,SAAU,KACVqF,UAAW,KACXxF,aAAc,KACdc,aAAc,KACdT,kBAAmB,KACnB9E,YAAakM,EAAEC,KAAKC,WAAW,uBAAwB,qBACvDnK,kBAAmBiK,EAAEC,KAAKC,WAAW,uBAAwB,qBAC7DC,cAAeH,EAAEC,KAAKC,WAAW,iCAAkC,qBACnE1G,iBAAkB,QAEpB7G,EAAEQ,WAAaA,EACfR,EAAEQ,WAAWO,kBAAoBA,EAEjCf,EAAEyN,GAAGxC,WAAa,SAAUvK,GAC1B,IAAIvB,EAAM,KAgBV,OAfAwB,KAAK+C,KAAK,WACH1D,EAAEqB,KAAKV,KAAM,cAWhBxB,EAAMa,EAAEqB,KAAKV,KAAM,eAVnBxB,EAAM,IAAIqB,EAAWG,KAAMD,QAEL,IAAXA,GAA0BA,EAAQgN,eAAe,cAC1DC,OAAOC,KAAKlN,EAAQmN,WAAWC,QAAQ,SAAUC,GAC/C5O,EAAI4O,GAAgBrN,EAAQmN,UAAUE,KAI1C/N,EAAEqB,KAAKV,KAAM,aAAcxB,MAKxBA,GAGFa","sourcesContent":["/* eslint-disable */\r\n/*\r\n * Edwiser_Forms - https://edwiser.org/\r\n * Version: 0.1.0\r\n * Author: Yogesh Shirsath\r\n */\r\n\r\n(function(root, factory) {\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['jquery'], factory);\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        factory(root.jQuery);\r\n    }\r\n\r\n}(this, function($) {\r\n\r\n    var $document = $(document),\r\n        instanceNum = 0,\r\n        Fastsearch = $.fastsearch,\r\n        pickTo = Fastsearch.pickTo,\r\n        selectorFromClass = Fastsearch.selectorFromClass;\r\n\r\n    function Fastselect(inputElement, options) {\r\n\r\n        this.init.apply(this, arguments);\r\n\r\n    }\r\n\r\n    $.extend(Fastselect.prototype, {\r\n\r\n        init: function(inputElement, options) {\r\n\r\n            this.$input = $(inputElement);\r\n\r\n            this.options = pickTo($.extend(true, {}, Fastselect.defaults, options, {\r\n                placeholder: this.$input.attr('placeholder')\r\n            }), this.$input.data(), [\r\n                'url', 'loadOnce', 'apiParam', 'initialValue', 'userOptionAllowed'\r\n            ]);\r\n\r\n            this.ens = '.fastselect' + (++instanceNum);\r\n            this.hasCustomLoader = this.$input.is('input');\r\n            this.isMultiple = !!this.$input.attr('multiple');\r\n            this.userOptionAllowed = this.hasCustomLoader && this.isMultiple && this.options.userOptionAllowed;\r\n\r\n            this.optionsCollection = new OptionsCollection(pickTo({multipleValues: this.isMultiple}, this.options, [\r\n                'url', 'loadOnce', 'parseData', 'matcher'\r\n            ]));\r\n\r\n            this.setupDomElements();\r\n            this.setupFastsearch();\r\n            this.setupEvents();\r\n\r\n        },\r\n\r\n        setupDomElements: function() {\r\n\r\n            this.$el = $('<div>').addClass(this.options.elementClass);\r\n\r\n            this[this.isMultiple ? 'setupMultipleElement' : 'setupSingleElement'](function() {\r\n\r\n                this.updateDomElements();\r\n                this.$controls.appendTo(this.$el);\r\n                this.$el.insertAfter(this.$input);\r\n                this.$input.detach().appendTo(this.$el);\r\n\r\n            });\r\n\r\n        },\r\n\r\n        setupSingleElement: function(onDone) {\r\n\r\n            var initialOptions = this.processInitialOptions(),\r\n                toggleBtnText = initialOptions && initialOptions.length ? initialOptions[0].text : this.options.placeholder;\r\n\r\n            this.$el.addClass(this.options.singleModeClass);\r\n            this.$controls = $('<div>').addClass(this.options.controlsClass);\r\n            this.$toggleBtn = $('<div>').addClass(this.options.toggleButtonClass).text(toggleBtnText).appendTo(this.$el);\r\n            this.$queryInput = $('<input>').attr('placeholder', this.options.searchPlaceholder).addClass(this.options.queryInputClass).appendTo(this.$controls);\r\n\r\n            onDone.call(this);\r\n\r\n        },\r\n\r\n        setupMultipleElement: function(onDone) {\r\n\r\n            var self = this,\r\n                options = self.options,\r\n                initialOptions = this.processInitialOptions();\r\n\r\n            this.$el.addClass(options.multipleModeClass);\r\n            this.$controls = $('<div>').addClass(options.controlsClass);\r\n            this.$queryInput = $('<input>').addClass(options.queryInputClass).appendTo(this.$controls);\r\n\r\n            initialOptions && $.each(initialOptions, function(i, option) {\r\n\r\n                self.addChoiceItem(option);\r\n\r\n            });\r\n\r\n            onDone.call(this);\r\n\r\n        },\r\n\r\n        updateDomElements: function() {\r\n\r\n            this.$el.toggleClass(this.options.noneSelectedClass, !this.optionsCollection.hasSelectedValues());\r\n            this.adjustQueryInputLayout();\r\n\r\n        },\r\n\r\n        processInitialOptions: function() {\r\n\r\n            var self = this, options;\r\n\r\n            if (this.hasCustomLoader) {\r\n\r\n                options = this.options.initialValue;\r\n\r\n                $.isPlainObject(options) && (options = [options]);\r\n\r\n            } else {\r\n\r\n                options = $.map(this.$input.find('option:selected').get(), function(option) {\r\n\r\n                    var $option = $(option);\r\n\r\n                    return {\r\n                        text: $option.text(),\r\n                        value: $option.attr('value')\r\n                    };\r\n\r\n                });\r\n\r\n            }\r\n\r\n            options && $.each(options, function(i, option) {\r\n                self.optionsCollection.setSelected(option);\r\n            });\r\n\r\n            return options;\r\n\r\n        },\r\n\r\n        addChoiceItem: function(optionModel) {\r\n            var classes = [\r\n                'primary',\r\n                'warning',\r\n                'success',\r\n                'info',\r\n            ];\r\n            $(\r\n                '<div data-text=\"' + optionModel.text + '\" data-value=\"' + optionModel.value + '\" class=\"' + this.options.choiceItemClass + ' btn-' + classes[Math.floor((Math.random() * classes.length))] + '\">' +\r\n                    $('<div>').html(optionModel.text).text() +\r\n                    '<button class=\"' + this.options.choiceRemoveClass + '\" type=\"button\">×</button>' +\r\n                '</div>'\r\n            ).insertBefore(this.$queryInput);\r\n\r\n        },\r\n\r\n        setupFastsearch: function() {\r\n\r\n            var self = this,\r\n                options = this.options,\r\n                fastSearchParams = {};\r\n\r\n            pickTo(fastSearchParams, options, [\r\n                'resultsContClass', 'resultsOpenedClass', 'resultsFlippedClass', 'groupClass', 'itemClass', 'focusFirstItem',\r\n                'groupTitleClass', 'loadingClass', 'noResultsClass', 'noResultsText', 'focusedItemClass', 'flipOnBottom'\r\n            ]);\r\n\r\n            this.fastsearch = new Fastsearch(this.$queryInput.get(0), $.extend(fastSearchParams, {\r\n\r\n                wrapSelector: this.isMultiple ? this.$el : this.$controls,\r\n\r\n                minQueryLength: 0,\r\n                typeTimeout: this.hasCustomLoader ? options.typeTimeout : 0,\r\n                preventSubmit: true,\r\n                fillInputId: false,\r\n\r\n                responseFormat: {\r\n                    label: 'text',\r\n                    groupCaption: 'label'\r\n                },\r\n\r\n                onItemSelect: function($item, model, fastsearch) {\r\n\r\n                    var maxItems = options.maxItems;\r\n\r\n                    if (self.isMultiple && maxItems && (self.optionsCollection.getValues().length > (maxItems - 1))) {\r\n\r\n                        options.onMaxItemsReached && options.onMaxItemsReached(this);\r\n\r\n                    } else {\r\n\r\n                        self.setSelectedOption(model);\r\n                        self.writeToInput();\r\n                        !self.isMultiple && self.hide();\r\n                        options.clearQueryOnSelect && fastsearch.clear();\r\n\r\n                        if (self.userOptionAllowed && model.isUserOption) {\r\n                            fastsearch.$resultsCont.remove();\r\n                            delete fastsearch.$resultsCont;\r\n                            self.hide();\r\n                        }\r\n\r\n                        options.onItemSelect && options.onItemSelect.call(self, $item, model, self, fastsearch);\r\n\r\n                    }\r\n\r\n                },\r\n\r\n                onItemCreate: function($item, model) {\r\n\r\n                    model.$item = $item;\r\n                    model.selected && $item.addClass(options.itemSelectedClass);\r\n\r\n                    if (self.userOptionAllowed && model.isUserOption) {\r\n                        $item.text(self.options.userOptionPrefix + $item.text()).addClass(self.options.userOptionClass);\r\n                    }\r\n\r\n                    options.onItemCreate && options.onItemCreate.call(self, $item, model, self);\r\n\r\n                }\r\n\r\n            }));\r\n\r\n            this.fastsearch.getResults = function() {\r\n\r\n                if (self.userOptionAllowed && self.$queryInput.val().length > 1) {\r\n                    self.renderOptions();\r\n                }\r\n\r\n                self.getOptions(function() {\r\n                    self.renderOptions(true);\r\n                });\r\n\r\n            };\r\n\r\n        },\r\n\r\n        getOptions: function(onDone) {\r\n\r\n            var options = this.options,\r\n                self = this,\r\n                params = {};\r\n\r\n            if (this.hasCustomLoader) {\r\n\r\n                var query = $.trim(this.$queryInput.val());\r\n\r\n                if (query && options.apiParam) {\r\n                    params[options.apiParam] = query;\r\n                }\r\n\r\n                this.optionsCollection.fetch(params, onDone);\r\n\r\n            } else {\r\n\r\n                !this.optionsCollection.models && this.optionsCollection.reset(this.gleanSelectData(this.$input));\r\n                onDone();\r\n\r\n            }\r\n\r\n        },\r\n\r\n        namespaceEvents: function(events) {\r\n\r\n            return Fastsearch.prototype.namespaceEvents.call(this, events);\r\n\r\n        },\r\n\r\n        setupEvents: function() {\r\n\r\n            var self = this,\r\n                options = this.options;\r\n\r\n            if (this.isMultiple) {\r\n\r\n                this.$el.on(this.namespaceEvents('click'), function(e) {\r\n\r\n                    $(e.target).is(selectorFromClass(options.controlsClass)) && self.$queryInput.focus();\r\n\r\n                });\r\n\r\n                this.$queryInput.on(this.namespaceEvents('keyup'), function(e) {\r\n\r\n                    self.adjustQueryInputLayout();\r\n                    self.show();\r\n\r\n                }).on(this.namespaceEvents('focusin'), function() {\r\n\r\n                    self.show();\r\n\r\n                    self.$queryInput.attr('placeholder', options.searchPlaceholder);\r\n\r\n                }).on(this.namespaceEvents('focusout'), function() {\r\n                    self.$queryInput.attr('placeholder', options.placeholder);\r\n                });\r\n\r\n                this.$el.on(this.namespaceEvents('click'), selectorFromClass(options.choiceRemoveClass), function(e) {\r\n\r\n                    var $choice = $(e.currentTarget).closest(selectorFromClass(options.choiceItemClass));\r\n\r\n                    self.removeSelectedOption({\r\n                        value: $choice.attr('data-value'),\r\n                        text: $choice.attr('data-text')\r\n                    }, $choice);\r\n\r\n                });\r\n\r\n            } else {\r\n\r\n                this.$el.on(this.namespaceEvents('click'), selectorFromClass(options.toggleButtonClass), function() {\r\n\r\n                    self.$el.hasClass(options.activeClass) ? self.hide() : self.show(true);\r\n\r\n                });\r\n\r\n            }\r\n\r\n        },\r\n\r\n        adjustQueryInputLayout: function() {\r\n\r\n            if (this.isMultiple && this.$queryInput) {\r\n\r\n                var noneSelected = this.$el.hasClass(this.options.noneSelectedClass);\r\n\r\n                this.$queryInput.toggleClass(this.options.queryInputExpandedClass, noneSelected);\r\n\r\n                this.$queryInput.attr({\r\n                    style: '',\r\n                    placeholder: this.options.placeholder\r\n                });\r\n                if (!noneSelected) {\r\n                    this.$fakeInput = this.$fakeInput || $('<span>').addClass(this.options.fakeInputClass);\r\n                    this.$fakeInput.text(this.$queryInput.val().replace(/\\s/g, '&nbsp;'));\r\n                    this.$fakeInput.detach();\r\n                }\r\n\r\n            }\r\n\r\n        },\r\n\r\n        show: function(focus) {\r\n\r\n            this.$el.addClass(this.options.activeClass);\r\n            focus ? this.$queryInput.focus() : this.fastsearch.handleTyping();\r\n\r\n            this.documentCancelEvents('on');\r\n\r\n        },\r\n\r\n        hide: function() {\r\n\r\n            this.$el.removeClass(this.options.activeClass);\r\n\r\n            this.documentCancelEvents('off');\r\n\r\n        },\r\n\r\n        documentCancelEvents: function(setup) {\r\n\r\n            Fastsearch.prototype.documentCancelEvents.call(this, setup, this.hide);\r\n\r\n        },\r\n\r\n        setSelectedOption: function(option) {\r\n\r\n            if (this.optionsCollection.isSelected(option.value)) {\r\n                return;\r\n            }\r\n\r\n            this.optionsCollection.setSelected(option);\r\n\r\n            var selectedModel = this.optionsCollection.findWhere(function(model) {\r\n                return model.value === option.value;\r\n            });\r\n\r\n            if (this.isMultiple) {\r\n\r\n                this.$controls && this.addChoiceItem(option);\r\n\r\n            } else {\r\n\r\n                this.fastsearch && this.fastsearch.$resultItems.removeClass(this.options.itemSelectedClass);\r\n                this.$toggleBtn && this.$toggleBtn.text(option.text);\r\n\r\n            }\r\n\r\n            selectedModel && selectedModel.$item.addClass(this.options.itemSelectedClass);\r\n\r\n            this.updateDomElements();\r\n\r\n        },\r\n\r\n        removeSelectedOption: function(option, $choiceItem) {\r\n\r\n            var removedModel = this.optionsCollection.removeSelected(option);\r\n\r\n            if (removedModel && removedModel.$item) {\r\n\r\n                removedModel.$item.removeClass(this.options.itemSelectedClass);\r\n\r\n            }\r\n\r\n            if ($choiceItem) {\r\n                $choiceItem.remove();\r\n            } else {\r\n                this.$el.find(selectorFromClass(this.options.choiceItemClass) + '[data-value=\"' + option.value + '\"]').remove();\r\n            }\r\n\r\n            this.updateDomElements();\r\n            this.writeToInput();\r\n\r\n        },\r\n\r\n        writeToInput: function() {\r\n\r\n            var values = this.optionsCollection.getValues(),\r\n                delimiter = this.options.valueDelimiter,\r\n                formattedValue = this.isMultiple ? (this.hasCustomLoader ? values.join(delimiter) : values) : values[0];\r\n\r\n            this.$input.val(formattedValue).trigger('change');\r\n\r\n        },\r\n\r\n        renderOptions: function(filter) {\r\n\r\n            var query = this.$queryInput.val();\r\n            var data;\r\n\r\n            if (this.optionsCollection.models) {\r\n                data = (filter ? this.optionsCollection.filter(query) : this.optionsCollection.models).slice(0);\r\n            } else {\r\n                data = [];\r\n            }\r\n\r\n            if (this.userOptionAllowed) {\r\n\r\n                var queryInList = this.optionsCollection.models && this.optionsCollection.findWhere(function(model) {\r\n                    return model.value === query;\r\n                });\r\n\r\n                query && !queryInList && data.unshift({\r\n                    text: query,\r\n                    value: query,\r\n                    isUserOption: true\r\n                });\r\n\r\n            }\r\n\r\n            this.fastsearch.showResults(this.fastsearch.storeResponse(data).generateResults(data));\r\n\r\n        },\r\n\r\n        gleanSelectData: function($select) {\r\n\r\n            var self = this,\r\n                $elements = $select.children();\r\n\r\n            if ($elements.eq(0).is('optgroup')) {\r\n\r\n                return $.map($elements.get(), function(optgroup) {\r\n\r\n                    var $optgroup = $(optgroup);\r\n\r\n                    return {\r\n                        label: $optgroup.attr('label'),\r\n                        items: self.gleanOptionsData($optgroup.children())\r\n                    };\r\n\r\n                });\r\n\r\n            } else {\r\n\r\n                return this.gleanOptionsData($elements);\r\n\r\n            }\r\n\r\n        },\r\n\r\n        gleanOptionsData: function($options) {\r\n\r\n            return $.map($options.get(), function(option) {\r\n                var $option = $(option);\r\n                return {\r\n                    text: $option.text(),\r\n                    value: $option.attr('value'),\r\n                    selected: $option.is(':selected')\r\n                };\r\n            });\r\n\r\n        },\r\n\r\n        destroy: function() {\r\n\r\n            $document.off(this.ens);\r\n            this.fastsearch.destroy();\r\n            this.$input.off(this.ens).detach().insertAfter(this.$el);\r\n            this.$el.off(this.ens).remove();\r\n\r\n            this.$input.data() && delete this.$input.data().fastselect;\r\n\r\n        }\r\n\r\n    });\r\n\r\n    function OptionsCollection(options) {\r\n\r\n        this.init(options);\r\n\r\n    }\r\n\r\n    $.extend(OptionsCollection.prototype, {\r\n\r\n        defaults: {\r\n            loadOnce: false,\r\n            url: null,\r\n            parseData: null,\r\n            multipleValues: false,\r\n            matcher: function(text, query) {\r\n\r\n                return text.toLowerCase().indexOf(query.toLowerCase()) > -1;\r\n\r\n            }\r\n        },\r\n\r\n        init: function(options) {\r\n\r\n            this.options = $.extend({}, this.defaults, options);\r\n            this.selectedValues = {};\r\n\r\n        },\r\n\r\n        fetch: function(fetchParams, onDone) {\r\n\r\n            var self = this,\r\n                afterFetch = function() {\r\n                    self.applySelectedValues(onDone);\r\n                };\r\n\r\n            if (this.options.loadOnce) {\r\n\r\n                this.fetchDeferred = this.fetchDeferred || this.load(fetchParams);\r\n                this.fetchDeferred.done(afterFetch);\r\n\r\n            } else {\r\n                this.load(fetchParams, afterFetch);\r\n            }\r\n\r\n        },\r\n\r\n        reset: function(models) {\r\n\r\n            this.models = this.options.parseData ? this.options.parseData(models) : models;\r\n            this.applySelectedValues();\r\n\r\n        },\r\n\r\n        applySelectedValues: function(onDone) {\r\n\r\n            this.each(function(option) {\r\n\r\n                if (this.options.multipleValues && option.selected) {\r\n\r\n                    this.selectedValues[option.value] = true;\r\n\r\n                } else {\r\n\r\n                    option.selected = !!this.selectedValues[option.value];\r\n\r\n                }\r\n\r\n            });\r\n\r\n            onDone && onDone.call(this);\r\n\r\n        },\r\n\r\n        load: function(params, onDone) {\r\n\r\n            var self = this,\r\n                options = this.options;\r\n\r\n            return $.get(options.url, params, function(data) {\r\n\r\n                self.models = options.parseData ? options.parseData(data) : data;\r\n\r\n                onDone && onDone.call(self);\r\n\r\n            });\r\n\r\n        },\r\n\r\n        setSelected: function(option) {\r\n\r\n            if (!this.options.multipleValues) {\r\n                this.selectedValues = {};\r\n            }\r\n\r\n            this.selectedValues[option.value] = true;\r\n            this.applySelectedValues();\r\n\r\n        },\r\n\r\n        removeSelected: function(option) {\r\n\r\n            var model = this.findWhere(function(model) {\r\n                return option.value === model.value;\r\n            });\r\n\r\n            model && (model.selected = false);\r\n\r\n            delete this.selectedValues[option.value];\r\n\r\n            return model;\r\n\r\n        },\r\n\r\n        isSelected: function(value) {\r\n\r\n            return !!this.selectedValues[value];\r\n\r\n        },\r\n\r\n        hasSelectedValues: function() {\r\n\r\n            return this.getValues().length > 0;\r\n\r\n        },\r\n\r\n        each: function(iterator) {\r\n\r\n            var self = this;\r\n\r\n            this.models && $.each(this.models, function(i, option) {\r\n\r\n                option.items ? $.each(option.items, function(i, nestedOption) {\r\n                    iterator.call(self, nestedOption);\r\n                }) : iterator.call(self, option);\r\n\r\n            });\r\n\r\n        },\r\n\r\n        where: function(predicate) {\r\n\r\n            var temp = [];\r\n\r\n            this.each(function(option) {\r\n                predicate(option) && temp.push(option);\r\n            });\r\n\r\n            return temp;\r\n\r\n        },\r\n\r\n        findWhere: function(predicate) {\r\n\r\n            var models = this.where(predicate);\r\n\r\n            return models.length ? models[0] : undefined;\r\n\r\n        },\r\n\r\n        filter: function(query) {\r\n\r\n            var self = this;\r\n\r\n            function checkItem(item) {\r\n                return self.options.matcher(item.text, query) ? item : null;\r\n            }\r\n\r\n            if (!query || query.length === 0) {\r\n                return this.models;\r\n            }\r\n\r\n            return $.map(this.models, function(item) {\r\n\r\n                if (item.items) {\r\n\r\n                    var filteredItems = $.map(item.items, checkItem);\r\n\r\n                    return filteredItems.length ? {\r\n                        label: item.label,\r\n                        items: filteredItems\r\n                    } : null;\r\n\r\n                } else {\r\n                    return checkItem(item);\r\n                }\r\n\r\n            });\r\n\r\n        },\r\n\r\n        getValues: function() {\r\n\r\n            return $.map(this.selectedValues, function(prop, key) {\r\n                return prop ? key : null;\r\n            });\r\n\r\n        }\r\n\r\n    });\r\n\r\n    Fastselect.defaults = {\r\n\r\n        elementClass: 'fstElement form-control',\r\n        singleModeClass: 'fstSingleMode',\r\n        noneSelectedClass: 'fstNoneSelected',\r\n        multipleModeClass: 'fstMultipleMode',\r\n        queryInputClass: 'fstQueryInput form-control',\r\n        queryInputExpandedClass: 'fstQueryInputExpanded',\r\n        fakeInputClass: 'fstFakeInput',\r\n        controlsClass: 'fstControls',\r\n        toggleButtonClass: 'fstToggleBtn',\r\n        activeClass: 'fstActive',\r\n        itemSelectedClass: 'btn-primary',\r\n        choiceItemClass: 'fstChoiceItem',\r\n        choiceRemoveClass: 'fstChoiceRemove',\r\n        userOptionClass: 'fstUserOption',\r\n\r\n        resultsContClass: 'fstResults',\r\n        resultsOpenedClass: 'fstResultsOpened',\r\n        resultsFlippedClass: 'fstResultsFilpped',\r\n        groupClass: 'fstGroup',\r\n        itemClass: 'fstResultItem',\r\n        groupTitleClass: 'fstGroupTitle',\r\n        loadingClass: 'fstLoading',\r\n        noResultsClass: 'fstNoResults',\r\n        focusedItemClass: 'fstFocused',\r\n\r\n        matcher: null,\r\n\r\n        url: null,\r\n        loadOnce: false,\r\n        apiParam: 'query',\r\n        initialValue: null,\r\n        clearQueryOnSelect: true,\r\n        minQueryLength: 1,\r\n        focusFirstItem: false,\r\n        flipOnBottom: true,\r\n        typeTimeout: 150,\r\n        userOptionAllowed: false,\r\n        valueDelimiter: ',',\r\n        maxItems: null,\r\n\r\n        parseData: null,\r\n        onItemSelect: null,\r\n        onItemCreate: null,\r\n        onMaxItemsReached: null,\r\n\r\n        placeholder: M.util.get_string('efb-lbl-event-choose', 'local_edwiserform'),\r\n        searchPlaceholder: M.util.get_string('efb-lbl-event-search', 'local_edwiserform'),\r\n        noResultsText: M.util.get_string('efb-lbl-event-search-not-found', 'local_edwiserform'),\r\n        userOptionPrefix: 'Add '\r\n\r\n    };\r\n\r\n    $.Fastselect = Fastselect;\r\n    $.Fastselect.OptionsCollection = OptionsCollection;\r\n\r\n    $.fn.fastselect = function(options) {\r\n        let obj = null;\r\n        this.each(function() {\r\n            if (!$.data(this, 'fastselect')) {\r\n                obj = new Fastselect(this, options);\r\n                if (typeof options != 'undefined' && options.hasOwnProperty('callbacks')) {\r\n                    Object.keys(options.callbacks).forEach(function(callbackName) {\r\n                        obj[callbackName] = options.callbacks[callbackName];\r\n                    });\r\n                }\r\n                $.data(this, 'fastselect', obj);\r\n            } else {\r\n                obj = $.data(this, 'fastselect');\r\n            }\r\n        });\r\n        return obj;\r\n    };\r\n\r\n    return $;\r\n\r\n}));\r\n"],"file":"fastselect.min.js"}