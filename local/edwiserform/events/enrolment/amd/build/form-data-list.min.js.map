{"version":3,"sources":["enrolment/amd/src/form-data-list.js"],"names":["define","$","ajax","Notification","formdata","init","document","ready","on","_this","this","action","attr","formid","closest","data","user","find","userid","Formeo","dom","loading","call","methodname","args","done","response","status","removeClass","siblings","addClass","updateSeparator","fail","ex","exception","always","loadingClose"],"mappings":"AAAA,aAwBAA,OAAO,CAAC,SAAU,YAAa,oBAAqB,mCAAoC,gCAAiC,SAAUC,EAAGC,EAAMC,EAAcC,GACxJ,MAAO,CACLC,KAAM,WACJJ,EAAEK,UAAUC,MAAM,WAChBN,EAAE,QAAQO,GAAG,QAAS,oBAAqB,WACzC,IAAIC,EAAQC,KAERC,EAASV,EAAES,MAAME,KAAK,eACtBC,EAASZ,EAAES,MAAMI,QAAQ,SAASC,KAAK,UACvCC,EAAOf,EAAES,MAAMI,QAAQ,MAAMG,KAAK,kBAClCC,EAASjB,EAAEe,GAAMJ,KAAK,eAE1BO,OAAOC,IAAIC,UACUnB,EAAKoB,KAAK,CAAC,CAC9BC,WAAY,qCACZC,KAAM,CACJX,OAAQA,EACRK,OAAQA,EACRP,OAAQA,MAGG,GAAGc,KAAK,SAAUC,GAC/B,GAAuB,GAAnBA,EAASC,OAGX,OAFA1B,EAAEQ,GAAOmB,YAAY,QAAQC,SAAS,qBAAqBC,SAAS,aACpE1B,EAAS2B,oBAGVC,KAAK,SAAUC,GAChB9B,EAAa+B,UAAUD,KACtBE,OAAO,WAERhB,OAAOC,IAAIgB","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Edwiser Form events class\n * @package   edwiserformevents_enrolment\n * @copyright (c) 2020 WisdmLabs (https://wisdmlabs.com/) <support@wisdmlabs.com>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @author    Yogesh Shirsath\n */\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/notification',\n    'local_edwiserform/form_data_list',\n    'local_edwiserform/formviewer'\n], function($, ajax, Notification, formdata) {\n    return {\n        init: function() {\n            $(document).ready(function() {\n                $('body').on('click', '.enrolment-action', function() {\n                    var _this = this;\n                    var action = $(this).attr('data-action');\n                    var formid = $(this).closest('table').data('formid');\n                    var user = $(this).closest('tr').find('.formdata-user');\n                    var userid = $(user).attr('data-userid');\n                    // eslint-disable-next-line no-undef\n                    Formeo.dom.loading();\n                    var actionResponse = ajax.call([{\n                        methodname: 'edwiserformevents_enrolment_action',\n                        args: {\n                            formid: formid,\n                            userid: userid,\n                            action: action\n                        }\n                    }]);\n                    actionResponse[0].done(function(response) {\n                        if (response.status == true) {\n                            $(_this).removeClass('show').siblings('.enrolment-action').addClass('show');\n                            formdata.updateSeparator();\n                            return;\n                        }\n                    }).fail(function(ex) {\n                        Notification.exception(ex);\n                    }).always(function() {\n                        // eslint-disable-next-line no-undef\n                        Formeo.dom.loadingClose();\n                    });\n                });\n            });\n        }\n    };\n});"],"file":"form-data-list.min.js"}