(function(a,b){define ("local_uowvis/d3-simple-slider",["exports","local_uowvis/d3"],b)})(this,function(a,b){'use strict';var f=b,g=b,h=b,i=b,j=b,l=200,m=8,n=1,o=2,p=3,q=4;function c(a){return"translate("+a+",0)"}function d(a){return"translate(0,"+a+")"}function e(a,e){e="undefined"!=typeof e?e:null;var w=[0],z=[0],A=[0,10],B=100,C=100,D=!0,E="M-5.5,-5.5v10l6,5.5l6,-5.5v-10z",F=null,G=null,H=null,I=null,J=null,K=null,L=null,M=b.dispatch("onchange","start","end","drag"),N=null,O=null,P=null,Q=a===n||a===q?-1:1,k=a===q||a===o?-1:1,R=a===q||a===o?"y":"x",x=a===q||a===o?"x":"y",y=a===n||a===p?c:d,S=a===n||a===p?d:c,T=null;switch(a){case n:T=g.axisTop;break;case o:T=g.axisRight;break;case p:T=g.axisBottom;break;case q:T=g.axisLeft;break;}var U=null,V=null,W=null;if(e){A=[f.min(e.domain()),f.max(e.domain())];if(a===n||a===p){B=f.max(e.range())-f.min(e.range())}else{C=f.max(e.range())-f.min(e.range())}e=e.clamp(!0)}function r(c){N=c.selection?c.selection():c;if(e){e=e.range([f.min(e.range()),f.min(e.range())+(a===n||a===p?B:C)])}else{e=A[0]instanceof Date?i.scaleTime():i.scaleLinear();e=e.domain(A).range(a===n||a===p?[0,B]:[C,0]).clamp(!0)}O=i.scaleLinear().range(e.range()).domain(e.range()).clamp(!0);w=w.map(function(a){return i.scaleLinear().range(A).domain(A).clamp(!0)(a)});I=I||e.tickFormat();K=K||I||e.tickFormat();var z=N.selectAll(".axis").data([null]);z.enter().append("g").attr("transform",S(7*Q)).attr("class","axis");var H=N.selectAll(".slider").data([null]),X=H.enter().append("g").attr("class","slider").attr("cursor",a===n||a===p?"ew-resize":"ns-resize").call(b.drag().on("start",g).on("drag",h).on("end",l));X.append("line").attr("class","track").attr(R+"1",e.range()[0]-k*m).attr("stroke","#bbb").attr("stroke-width",6).attr("stroke-linecap","round");X.append("line").attr("class","track-inset").attr(R+"1",e.range()[0]-k*m).attr("stroke","#eee").attr("stroke-width",4).attr("stroke-linecap","round");if(L){X.append("line").attr("class","track-fill").attr(R+"1",1===w.length?e.range()[0]-k*m:e(w[0])).attr("stroke",L).attr("stroke-width",4).attr("stroke-linecap","round")}X.append("line").attr("class","track-overlay").attr(R+"1",e.range()[0]-k*m).attr("stroke","transparent").attr("stroke-width",40).attr("stroke-linecap","round").merge(H.select(".track-overlay"));U=X.selectAll(".parameter-value").data(w);var Y=U.enter().append("g").attr("class","parameter-value").attr("transform",function(a){return y(e(a))}).attr("font-family","sans-serif").attr("text-anchor",a===o?"start":a===q?"end":"middle");Y.append("path").attr("transform","rotate("+90*(a+1)+")").attr("d",E).attr("class","handle").attr("aria-label","handle").attr("aria-valuemax",A[1]).attr("aria-valuemin",A[0]).attr("aria-valuenow",w).attr("aria-orientation",a===q||a===o?"vertical":"horizontal").attr("focusable","true").attr("tabindex",0).attr("fill","white").attr("stroke","#777").on("keydown",function(a,b){var d=F||(A[1]-A[0])/100;function c(a){return w.map(function(c,d){if(2===w.length){return d===b?0===b?Math.min(a,t(w[1])):Math.max(a,t(w[0])):c}else{return d===b?a:c}})}switch(j.event.key){case"ArrowLeft":case"ArrowDown":r.value(c(+w[b]-d));j.event.preventDefault();break;case"PageDown":r.value(c(+w[b]-2*d));j.event.preventDefault();break;case"ArrowRight":case"ArrowUp":r.value(c(+w[b]+d));j.event.preventDefault();break;case"PageUp":r.value(c(+w[b]+2*d));j.event.preventDefault();break;case"Home":r.value(c(A[0]));j.event.preventDefault();break;case"End":r.value(c(A[1]));j.event.preventDefault();break;}});if(D){Y.append("text").attr("font-size",10).attr(x,27*Q).attr("dy",a===n?"0em":a===p?".71em":".32em").attr("transform",1<w.length?"translate(0,0)":null).text(function(a,b){return I(w[b])})}c.select(".track").attr(R+"2",e.range()[1]+k*m);c.select(".track-inset").attr(R+"2",e.range()[1]+k*m);if(L){c.select(".track-fill").attr(R+"2",1===w.length?e(w[0]):e(w[1]))}c.select(".track-overlay").attr(R+"2",e.range()[1]+k*m);c.select(".axis").call(T(e).tickFormat(I).ticks(J).tickValues(G));N.select(".axis").select(".domain").remove();c.select(".axis").attr("transform",S(7*Q));c.selectAll(".axis text").attr("fill","#aaa").attr(x,20*Q).attr("dy",a===n?"0em":a===p?".71em":".32em").attr("text-anchor",a===o?"start":a===q?"end":"middle");c.selectAll(".axis line").attr("stroke","#aaa");c.selectAll(".parameter-value").attr("transform",function(a){return y(e(a))});s();function d(a){var b=t(e.invert(a));return w.map(function(a,c){if(2===w.length){return c===P?0===P?Math.min(b,t(w[1])):Math.max(b,t(w[0])):a}else{return c===P?b:a}})}function g(){j.select(this).classed("active",!0);var b=O(a===p||a===n?j.event.x:j.event.y);if(w[0]===A[0]&&w[1]===A[0]){P=1}else if(w[0]===A[1]&&w[1]===A[1]){P=0}else{P=f.scan(w.map(function(a){return Math.abs(a-t(e.invert(b)))}))}var c=w.map(function(a,c){return c===P?t(e.invert(b)):a});v(c);M.call("start",H,1===c.length?c[0]:c);u(c,!0)}function h(){var b=O(a===p||a===n?j.event.x:j.event.y),c=d(b);v(c);M.call("drag",H,1===c.length?c[0]:c);u(c,!0)}function l(){j.select(this).classed("active",!1);var b=O(a===p||a===n?j.event.x:j.event.y),c=d(b);v(c);M.call("end",H,1===c.length?c[0]:c);u(c,!0);P=null}W=N.selectAll(".parameter-value text");V=N.select(".track-fill")}function s(){if(N){if(D){var a=[];w.forEach(function(b){var c=[];N.selectAll(".axis .tick").each(function(a){c.push(Math.abs(a-b))});a.push(f.scan(c))});N.selectAll(".axis .tick text").attr("opacity",function(b,c){return~a.indexOf(c)?0:1});if(W&&1<w.length){var b,c,e=[],g=[];W.nodes().forEach(function(a,d){b=a.getBoundingClientRect();c=a.getAttribute("transform").split(/[()]/)[1].split(",")["x"===R?0:1];e[d]=b[R]-parseFloat(c);g[d]=b["x"===R?"width":"height"]});if("x"===R){c=Math.max(0,(e[0]+g[0]-e[1])/2);W.attr("transform",function(a,b){return"translate("+(b?c:-c)+",0)"})}else{c=Math.max(0,(e[1]+g[1]-e[0])/2);W.attr("transform",function(a,b){return"translate(0,"+(b?-c:c)+")"})}}}}}function t(a){if(F){var b=(a-A[0])%F,c=a-b;if(2*b>F){c+=F}return a instanceof Date?new Date(c):c}if(H){var d=f.scan(H.map(function(b){return Math.abs(a-b)}));return H[d]}return a}function u(a,b){if(w[0]!==a[0]||1<w.length&&w[1]!==a[1]){w=a;if(b){M.call("onchange",r,1===a.length?a[0]:a)}s()}}function v(a,b){if(N){b="undefined"!=typeof b?b:!1;if(b){N.selectAll(".parameter-value").data(a).transition().ease(h.easeQuadOut).duration(l).attr("transform",function(a){return y(e(a))}).select(".handle").attr("aria-valuenow",function(a){return a});if(L){V.transition().ease(h.easeQuadOut).duration(l).attr(R+"1",1===w.length?e.range()[0]-Q*m:e(a[0])).attr(R+"2",1===w.length?e(a[0]):e(a[1]))}}else{N.selectAll(".parameter-value").data(a).attr("transform",function(a){return y(e(a))}).select(".handle").attr("aria-valuenow",function(a){return a});if(L){V.attr(R+"1",1===w.length?e.range()[0]-Q*m:e(a[0])).attr(R+"2",1===w.length?e(a[0]):e(a[1]))}}if(D){W.text(function(b,c){return K(a[c])})}}}r.min=function(a){if(!arguments.length)return A[0];A[0]=a;return r};r.max=function(a){if(!arguments.length)return A[1];A[1]=a;return r};r.domain=function(a){if(!arguments.length)return A;A=a;return r};r.width=function(a){if(!arguments.length)return B;B=a;return r};r.height=function(a){if(!arguments.length)return C;C=a;return r};r.tickFormat=function(a){if(!arguments.length)return I;I=a;return r};r.displayFormat=function(a){if(!arguments.length)return K;K=a;return r};r.ticks=function(a){if(!arguments.length)return J;J=a;return r};r.value=function(a){if(!arguments.length){if(1===w.length){return w[0]}return w}var b=Array.isArray(a)?a:[a];b.sort(function(c,a){return c-a});var c=b.map(e).map(O),d=c.map(e.invert).map(t);v(d,!0);u(d,!0);return r};r.silentValue=function(a){if(!arguments.length){if(1===w.length){return w[0]}return w}var b=Array.isArray(a)?a:[a];b.sort(function(c,a){return c-a});var c=b.map(e).map(O),d=c.map(e.invert).map(t);v(d,!1);u(d,!1);return r};r.default=function(a){if(!arguments.length){if(1===z.length){return z[0]}return z}var b=Array.isArray(a)?a:[a];b.sort(function(c,a){return c-a});z=b;w=b;return r};r.step=function(a){if(!arguments.length)return F;F=a;return r};r.tickValues=function(a){if(!arguments.length)return G;G=a;return r};r.marks=function(a){if(!arguments.length)return H;H=a;return r};r.handle=function(a){if(!arguments.length)return E;E=a;return r};r.displayValue=function(a){if(!arguments.length)return D;D=a;return r};r.fill=function(a){if(!arguments.length)return L;L=a;return r};r.on=function(){var a=M.on.apply(M,arguments);return a===M?r:a};return r}a.sliderBottom=function(a){return e(p,a)};a.sliderHorizontal=function(a){return e(p,a)};a.sliderLeft=function(a){return e(q,a)};a.sliderRight=function(a){return e(o,a)};a.sliderTop=function(a){return e(n,a)};a.sliderVertical=function(a){return e(q,a)};Object.defineProperty(a,"__esModule",{value:!0})});
//# sourceMappingURL=d3-simple-slider.min.js.map
