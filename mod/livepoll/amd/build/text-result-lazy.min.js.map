{"version":3,"sources":["../src/text-result-lazy.js"],"names":["define","$","Result","TextResult","call","prototype","Object","create","renderResult","options","votes","totalVotes","each","optionid","text","performUpdate","callback"],"mappings":"AAsBAA,OAAM,iCAAC,CAAC,QAAD,CAAW,qBAAX,CAAD,CACF,SAASC,CAAT,CAAYC,CAAZ,CAAoB,CAMhB,QAASC,CAAAA,CAAT,EAAsB,CAClBD,CAAM,CAACE,IAAP,CAAY,IAAZ,EACA,MAAQ,KACX,CAGDD,CAAU,CAACE,SAAX,CAAuBC,MAAM,CAACC,MAAP,CAAcL,CAAM,CAACG,SAArB,CAAvB,CAOAF,CAAU,CAACE,SAAX,CAAqBG,YAArB,CAAoC,SAASC,CAAT,CAAkBC,CAAlB,CAAyB,CACzD,GAAIC,CAAAA,CAAU,CAAG,CAAjB,CACAV,CAAC,CAACW,IAAF,CAAOH,CAAP,CAAgB,SAASI,CAAT,CAAmB,CAC/BZ,CAAC,CAAC,eAAiBY,CAAlB,CAAD,CAA6BC,IAA7B,CAAkCJ,CAAK,CAACG,CAAD,CAAvC,EACAF,CAAU,EAAID,CAAK,CAACG,CAAD,CACtB,CAHD,EAIAZ,CAAC,CAAC,0BAAD,CAAD,CAA8Ba,IAA9B,CAAmCH,CAAnC,CACH,CAPD,CAYAR,CAAU,CAACE,SAAX,CAAqBU,aAArB,CAAqC,SAASN,CAAT,CAAkBC,CAAlB,CAAyBM,CAAzB,CAAmC,CACpE,KAAKR,YAAL,CAAkBC,CAAlB,CAA2BC,CAA3B,EACAM,CAAQ,EACX,CAHD,CAKA,MAAQb,CAAAA,CACX,CAtCC,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Live poll text result for poll rendering.\n *\n * @package mod_livepoll\n * @copyright Copyright (c) 2018 Open LMS\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\"jquery\", \"mod_livepoll/result\"],\n    function($, Result) {\n        /**\n         * Text result constructor.\n         * @returns {TextResult}\n         * @constructor\n         */\n        function TextResult() {\n            Result.call(this);\n            return (this);\n        }\n\n        // Prototype extension.\n        TextResult.prototype = Object.create(Result.prototype);\n\n        /**\n         * Renders the text result.\n         * @param options\n         * @param votes\n         */\n        TextResult.prototype.renderResult = function(options, votes) {\n            var totalVotes = 0;\n            $.each(options, function(optionid) {\n                $(\"#vote-count-\" + optionid).text(votes[optionid]);\n                totalVotes += votes[optionid];\n            });\n            $(\".mod-livepoll-totalvotes\").text(totalVotes);\n        };\n\n        /**\n         * {@inheritdoc}\n         */\n        TextResult.prototype.performUpdate = function(options, votes, callback) {\n            this.renderResult(options, votes);\n            callback();\n        };\n\n        return (TextResult);\n    }\n);"],"file":"text-result-lazy.min.js"}