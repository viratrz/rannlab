/*
 * The module provides autocomplete for the question idnumber form field.
 *
 * @module    filter_embedquestion/questionid_choice_updater
 * @package   filter_embedquestion
 * @copyright 2018 The Open University
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("filter_embedquestion/questionid_choice_updater",["jquery","core/ajax"],(function($,Ajax){var t={init:function(){$("select#id_categoryidnumber").on("change",t.categoryChanged),t.lastCategory=null},lastCategory:null,categoryChanged:function(){$("select#id_categoryidnumber").val()!==t.lastCategory&&(M.util.js_pending("filter_embedquestion-get_questions"),t.lastCategory=$("select#id_categoryidnumber").val(),""===t.lastCategory?t.updateChoices([]):Ajax.call([{methodname:"filter_embedquestion_get_sharable_question_choices",args:{courseid:$("input[name=courseid]").val(),categoryidnumber:t.lastCategory}}])[0].done(t.updateChoices))},updateChoices:function(response){var select=$("select#id_questionidnumber");select.empty(),$(response).each((function(index,option){select.append('<option value="'+option.value+'">'+option.label+"</option>")})),M.util.js_complete("filter_embedquestion-get_questions")}};return t}));

//# sourceMappingURL=questionid_choice_updater.min.js.map