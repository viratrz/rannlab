/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2020 Mariusz Boloz (https://mb2themes.com)
 * @license   Commercial https://themeforest.net/licenses
 *
 */
jQuery(document).ready((function(e){e(".mb2slides-mainslider").each((function(){var t=e(this),a=e(this).find(".mb2slides-slide-list"),s=(a.find(".mb2slides-slide-item").find(".mb2slides-caption"),a.find(">li"),a.find(".mb2slides-nextslide")),o=a.find(".mb2slides-prevslide"),i=a.data("slidescount"),l=a.data("modid"),n=a.data("mode"),r=1==a.data("auto"),d=a.data("aspeed"),m=a.data("items"),c=a.data("margin"),h=a.data("moveitems")>m?m:a.data("moveitems"),f=a.data("apause"),u=1==a.data("kpress"),b=1==a.data("loop"),p=1==a.data("aheight"),v=1==a.data("pager"),k=1==a.data("control")||2==a.data("control"),g=!!e("body").hasClass("dir-rtl"),C=g?"fa fa-angle-right":"fa fa-angle-left",y=g?"fa fa-angle-left":"fa fa-angle-right",w=m>1?[{breakpoint:768,settings:{item:m>2?2:m,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]:[];function T(){var t=e(".mb2slides"+l+" .lslide.active"),a=e(".mb2slides"+l+" .mb2slides-slide-list>li"),s=t.find(".mb2slides-caption");!function(t){t.each((function(){e(this).hasClass("active")?e(this).attr("aria-hidden","false"):e(this).attr("aria-hidden","true")}))}(a),t.hasClass("active")?s.hasClass("anim1")&&s.stop().animate({top:0,bottom:0,opacity:1},350):s.stop().animate({top:15,bottom:-15,opacity:0},0)}function x(t){e(window).width()<=768?(t.addClass("mb2slides-mobile"),t.removeClass("mb2slides-desktop")):(t.removeClass("mb2slides-mobile"),t.addClass("mb2slides-desktop"))}i>1&&(a.lightSliderMb2({slidesVisible:!1,item:m,autoWidth:!1,slideMove:h,slideMargin:c,addClass:"",mode:n,useCSS:!0,cssEasing:"ease",easing:"linear",speed:d,auto:r,loop:b,slideEndAnimation:!0,pause:f,keyPress:u,controls:k,prevHtml:'<span class="'+C+'"></span>',nextHtml:'<span class="'+y+'"></span>',rtl:g,adaptiveHeight:p,vertical:!1,verticalHeight:500,vThumbWidth:100,pauseOnHover:!0,thumbItem:10,pager:v,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:w,onBeforeStart:function(e){},onSliderLoad:function(a){T(),function(){t.addClass("loaded");e(".mb2slides"+l+" .mb2slides-slide-list>li")}()},onAfterSlide:function(e){T()},onBeforeSlide:function(t){var a;(a=e(".mb2slides"+l+" .mb2slides-caption")).hasClass("anim1")&&a.stop().animate({top:15,bottom:-15,opacity:0},150)},onBeforeNextSlide:function(e){},onBeforePrevSlide:function(e){},onAfterReset:function(e){T()}}),s.click((function(e){e.preventDefault(),a.goToNextSlide()})),o.click((function(e){e.preventDefault(),a.goToPrevSlide()}))),x(t),e(window).on("resize",(function(){x(t)}))})),e(".mb2notices-item.canclose").each((function(){var t=e(this),a="mb2notices-item-"+t.data("itemid"),s={expires:t.data("cookieexpiry"),path:"/"},o=t.find(".mb2notices-item-close");"hide"!==Cookies.get(a)&&t.show(),o.click((function(e){e.preventDefault(),t.slideUp(250),Cookies.set(a,"hide",s)}))}));var t=e(".theme-scrolltt"),a=t.data("scrollspeed");function s(){e(".theme-table-wrap").each((function(){e(this).find(">table").width()>e(this).width()?e(this).addClass("wider"):e(this).removeClass("wider")}))}e(window).on("scroll",(function(){e(this).scrollTop()>500?t.addClass("active"):t.removeClass("active")})),t.click((function(t){t.preventDefault(),e("html, body").stop().animate({scrollTop:0},a)})),e("body").hasClass("path-admin-setting")&&e(".mb2tmpl-acc-title").each((function(){e(this).click((function(t){e(this).toggleClass("active"),e(this).parent().find("> div").slideToggle(150)}))})),e("table").wrap('<div class="theme-table-wrap"></div>'),e(".generaltable, .forumheaderlist, table.userenrolment").addClass("table table-striped"),e("table.collection").addClass("table table-bordered"),e("table.preference-table").addClass("table table-bordered"),e("table.rolecap").addClass("table table-bordered"),e("#categoryquestions").addClass("table table-striped"),s(),e(window).on("resize",(function(){s()})),e(".embed-video-bg").each((function(){var t=e(this);t.on("click",(function(a){var s=t.parent().find("iframe");s.attr("src",s.attr("src")+"&autoplay=1"),e(this).fadeOut(350),t.fadeOut(350),a.preventDefault()}))})),e(".alert-error").addClass("alert-danger"),e(".box.notifyproblem").addClass("alert"),e(".box.notifyproblem").addClass("alert-danger"),e(".box.notifyproblem").removeClass("notifyproblem"),e(".nav-tabs .nav-link").each((function(){e(this).hasClass("active")&&e(this).parent().addClass("active")})),e(".block-region").each((function(){var t='<span class="region-name">'+e(this).data("blockregion")+"</span>";e("body").hasClass("editing")&&e(this).append(t)})),e("#main-navigation .theme-ddmenu").each((function(){var t=e(this),a=t.data("animtype"),s=t.data("animspeed");t.find(".mobile-arrow");var o=function e(){return"function"==typeof t.superfish||(setTimeout(e,100),!1)}();o&&t.superfish({popUpSelector:"ul",hoverClass:"mb2ctm-hover",animation:2==a?{height:"show"}:{opacity:"show"},speed:s,speedOut:"fast",cssArrows:!1})})),e(document).on("click",".show-menu",(function(t){var a=e("#main-header"),s=a.find(".mobile-menu");a.toggleClass("menu-open"),s.slideToggle(250)})),e(document).on("click",".mobile-arrow",(function(t){t.preventDefault(),e(this).siblings("ul").slideToggle(250),e(this).toggleClass("active")}));var o,l=e(".theme-loginform").find(".usertext"),n=e(".theme-loginform").find(".welcome_userpicture").parent();function r(){var t=e(".panel-link");t.length&&(e(window).scrollTop()>t.offset().top+t.outerHeight(!0)?e("body").addClass("panellinkpass"):e("body").removeClass("panellinkpass"))}n.append(l),n.click((function(e){e.preventDefault()})),o=0,e(window).scroll((function(){st=e(this).scrollTop(),st<o?(e("body").removeClass("scroll-down"),e("body").addClass("scroll-up")):(e("body").removeClass("scroll-up"),e("body").addClass("scroll-down")),o=st})),r(),e(window).scroll((function(){r()}));var d=e("#master-header");(e("body").hasClass("sticky-nav1")||e("body").hasClass("sticky-nav4"))&&(d=e("#main-navigation"));var m=d.outerHeight(!0);function c(){if(!d.length)return null;var t=e(window),a=e("body");if(a.hasClass("sticky-nav0")||a.hasClass("pagelayout-mb2builder_form")||a.hasClass("pagelayout-mb2builder")||a.hasClass("pagelayout-maintenance"))return null;d.offset().top;var s=e(".sticky-replace-el");t.scrollTop()>150?(s.css("height",m),d.addClass("sticky-el")):(d.removeClass("sticky-el"),s.css("height",0)),t.scrollTop()>250?d.addClass("sticky-el-jump"):d.removeClass("sticky-el-jump")}setTimeout((function(){c()}),10),e(window).scroll((function(){c()}));var h=e(".theme-iconnav").height();e(".theme-iconnav").css({"margin-top":Math.ceil(h/2*-1)}),e(".theme-iconnav li").each((function(){var t=e(this).find(".link-replace"),a=e(this).find("span.text"),s=e("body").hasClass("dir-rtl");t.hover((function(){s?a.stop().animate({left:"100%"},300):a.stop().animate({right:"100%"},300)}),(function(){s?a.stop().animate({left:-500},150):a.stop().animate({right:-500},150)}))})),e('label[for="jump-to-activity"]').closest(".m-t-2").addClass("activity-nav"),e(".header-tools-jslink").click((function(t){t.preventDefault(),e(this).hasClass("tool-links")?(e(".theme-loginform").hide(),e(".theme-searchform").hide(),e(".theme-links").show(),e(".tool-search").removeClass("active"),e(".tool-login").removeClass("active")):e(this).hasClass("tool-login")?(e(".theme-loginform").show(),e(".theme-searchform").hide(),e(".theme-links").hide(),e(".tool-links").removeClass("active"),e(".tool-search").removeClass("active")):(e(".theme-loginform").hide(),e(".theme-searchform").show(),e(".theme-links").hide(),e(".tool-links").removeClass("active"),e(".tool-login").removeClass("active")),function(){var t=e(".sliding-panel");t.hasClass("closed")&&(u(),t.stop().animate({"margin-top":0},350),t.removeClass("closed"),t.addClass("open"))}();var a=e(".sliding-panel");a.hasClass("open")&&e(this).hasClass("active")&&b(),a.hasClass("open")&&e(this).addClass("active")}));var f=e(window).width();function u(){var t=e(".sliding-panel");t.find("btn");t.css({"margin-top":Math.ceil(-1*(t.height()+1))})}function b(){var t=e(".sliding-panel");t.hasClass("open")&&(t.stop().animate({"margin-top":Math.ceil(-1*(e(".sliding-panel").height()+1))},350),t.removeClass("open"),t.addClass("closed"),e(".header-tools-jslink").removeClass("active"))}function p(){var t,a,s,o=[];e("[data-mb2showon]").each((function(){var i=e(this),l=i.data("mb2showon"),n=i.data("mb2showonval"),r=l.toString().split("|"),d=n.toString().split("|");for(t=0;t<r.length;t++)a=r[t],s=d[t],e('[name="'+a+'"]').val()==s?o[t]="yes":o[t]="no";-1!=e.inArray("yes",o)?i.closest(".form-group").show():i.closest(".form-group").hide(),o=[]}))}u(),e(window).on("resize",(function(){f!=e(window).width()&&(b(),u()),delete f})),e(".sectionname, .section-title").each((function(){var t=e(this).find(">span>a, >a").text();e("body").hasClass("editing")||" "!==t||e(this).hide()})),e("#theme-bookmarks-form").submit((function(t){var a=e(this),s=a.find("#mb2bkcreateurl").val();e.ajax({type:"GET",url:s,data:a.serialize(),beforeSend:function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeIn(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").attr("disabled","disabled")},error:function(t,a,s){setTimeout((function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled"),alert(t.responseText)}),800)},success:function(t){if(e.isArray(t)){var a=function(t){var a="",s=[];for(i=0;i<t.length;i++){var o=t[i].split(";"),l=e("#theme-bookmarks-form").data("rooturl"),n=e("#theme-bookmarks-form").data("pageurl"),r=e("#theme-bookmarks-form").data("pagetitle"),d=e("#theme-bookmarks-form").data("bookmarkthispage"),m=e("#theme-bookmarks-form").data("unbookmarkthispage");o[0]&&(a+='<li data-url="'+o[0]+'">',a+='<a class="bookmark-link" href="'+l+o[0]+'">'+o[1]+"</a>",a+='<div class="theme-bookmarks-action">',a+='<button class="theme-bookmarks-form bookmark-edit themereset" data-url="'+o[0]+'" data-mb2bktitle="'+o[1]+'" data-toggle="modal" data-target="#theme-bookmarks-modal"><i class="fa fa-pencil"></i></button>',a+='<button class="theme-bookmarks-form bookmark-delete themereset" data-url="'+o[0]+'" data-mb2bktitle="'+o[1]+'"><i class="fa fa-times"></i></button>',a+="</div>",a+="</li>",s[i]=o[0])}var c=e.inArray(n,s),h="",f=' data-toggle="modal" data-target="#theme-bookmarks-modal"',u=d;c>-1&&(h=" bookmark-delete",u=m,f="");return a+='<li class="theme-bookmarks-add">',a+='<button class="theme-bookmarks-form'+h+' themereset" data-url="'+n+'" data-mb2bktitle="'+r+'"'+f+">",a+=u,a+="</button>",a+="</li>"}(t);e("ul.theme-bookmarks").html(a)}else alert(t);setTimeout((function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled")}),800)}}),t.preventDefault()})),e(document).on("click",".theme-bookmarks-save",(function(t){e("#theme-bookmarks-form").submit(),t.preventDefault()})),e(document).on("click",".theme-bookmarks-form",(function(t){e("#mb2bkurl").val(e(this).data("url")),e("#mb2bktitle").val(e(this).data("mb2bktitle"));var a=e('li[data-url="'+e(this).data("url")+'"]');e(this).hasClass("bookmark-delete")?(e("#bkupdate").val(0),e("#bkdelete").val(1),e("#theme-bookmarks-form").submit()):e(this).hasClass("bookmark-edit")?(e("#bkdelete").val(0),e("#bkupdate").val(1)):a.length>0?(e("#bkdelete").val(0),e("#bkupdate").val(1),e("#mb2bktitle").val(a.find(">a").html())):(e("#bkdelete").val(0),e("#bkupdate").val(0)),t.preventDefault()})),e("form#guestlogin").parent().addClass("guestlogin-form"),e(".boxlist>li").each((function(){e(this).find(">ul").length&&(e(this).find(">a").append('<span class="boxlist-toggle"></span>'),e(this).find(">span").append('<span class="boxlist-toggle"></span>'))})),e(document).on("click",".boxlist-toggle",(function(t){t.preventDefault(),e(this).toggleClass("active"),e(this).parent().siblings("ul").slideToggle(250)})),e(document).on("click",".main-menu a",(function(t){var a=e(this).attr("href"),s=a.split(""),o=0;if(e("body").hasClass("sticky-nav")&&(o=46),"#"===s[0]&&s.length>1){if(!e(a).length)return;e("html, body").stop().animate({scrollTop:e(a).offset().top-o},600),t.preventDefault()}})),p(),e(".felement>select").on("change",(function(){p()})),e(".toggle-content").each((function(){var t=e(this),a=e(this).find(".toggle-content-button"),s=a.data("moretext"),o=a.data("lesstext");a.click((function(e){t.hasClass("open")?(t.removeClass("open"),a.html(s)):(t.addClass("open"),a.html(o))}))})),e(".course-enrolbtn").each((function(){e(this).click((function(t){e("html, body").stop().animate({scrollTop:e("#page-content").offset().top},1200)}))})),e(".link-target").each((function(){e(this).click((function(t){e("html, body").stop().animate({scrollTop:e(e(this).attr("href")).offset().top},1200)}))}))})),function(e){e(window).on("load",(function(){var t=e(".loading-scr");setTimeout((function(){t.fadeOut(150)}),t.data("hideafter")),e("body").addClass("page-loaded")}))}(jQuery);
